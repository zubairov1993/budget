<div *ngIf="budgets$ | async">

  <div *ngFor="let year of budgets$ | async">
    <tui-accordion class="years">
      <tui-accordion-item [open]="isCurrentYear(year.year)">
        <div class="years__header">
          <div>{{ year.year }} год</div>

          <div class="years__header_right">

            <div>
              <b>потрачено за год:</b>
              <span *ngIf="sharedService.currency$.value === 'Тенге'">
                тенге - {{ year.totalPriceYear | isShowPrice }} &#8376;
              </span>
              <span *ngIf="sharedService.currency$.value === 'Рубль'">
                рублей - {{ budgetService.convertToRub(year.totalPriceYear) | isShowPrice }} &#8381;
              </span>
            </div>
          </div>
        </div>

        <ng-template tuiAccordionItemContent>
          <app-months-list [yearProps]="year"></app-months-list>
        </ng-template>

      </tui-accordion-item>
    </tui-accordion>
  </div>
</div>

<div *ngIf="isLoading$ | async">Loading.....</div>
